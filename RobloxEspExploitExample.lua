local player = game.Players.LocalPlayer
local playerGui = player.PlayerGui

local function createESP(player)
    local espBox = Instance.new("BoxHandleAdornment")
    espBox.Name = "ESPBox"
    espBox.Adornee = player.Character:FindFirstChild("HumanoidRootPart")
    espBox.Size = player.Character:FindFirstChild("HumanoidRootPart").Size + Vector3.new(0, 0.5, 0)
    espBox.Color3 = Color3.new(1, 0, 0) -- Red color
    espBox.Transparency = 0.5
    espBox.ZIndex = 0
    espBox.AlwaysOnTop = true
    espBox.Parent = playerGui
end

game.Players.PlayerAdded:Connect(function(newPlayer)
    createESP(newPlayer)
end)

for _, existingPlayer in ipairs(game.Players:GetPlayers()) do
    createESP(existingPlayer)
end
